@page "/register"
@inject IDispatcher dispatcher
@inject NavigationManager navManager

<div class="container">
    <div class="row pt-5">
        <EditForm class="col-6 offset-3" Model=@credentials OnValidSubmit="@RegisterUser">
            <DataAnnotationsValidator />
            <ValidationSummary />
            <div class="form-group m-1">
                <InputText @bind-Value=credentials.Username class="form-control" id="username" placeholder="Username" />
            </div>
            <div class="form-group m-1">
                <InputText @bind-Value=credentials.Password type="password" class="form-control" id="password" placeholder="Password" />
            </div>
            <div class="m-1 mt-2">
                <input type="submit" class="btn btn-primary" value="Register" />
            </div>
        </EditForm>
    </div>
</div>
@code {

    private Credentials credentials = new Credentials();

    private void RegisterUser()
    {
        var dispatchable = new Dispatchable<Credentials>(ActionType.REGISTER_USER, credentials);
        dispatcher.Dispatch(dispatchable);
    }

    private void Update()
    {
        navManager.NavigateTo("/", true);
    }

    
}
